/* =============================================================================
   URC@UNC - Portfolio-Grade Design System
   Official UNC Brand Colors + Nippori-Inspired Layout
   ============================================================================= */

/* Google Fonts - Playfair Variable + Inter */
@import url('https://fonts.googleapis.com/css2?family=Playfair:opsz,wdth,wght@5..1200,87.5..112.5,300..900&family=Inter:wght@300;400;500;600;700&display=swap');

@import "tailwindcss";

/* =============================================================================
   CSS Custom Properties (Design Tokens)
   Official UNC Brand Colors: https://identity.unc.edu/brand/color-palette/
   ============================================================================= */

:root {
  /* --- Official UNC Brand Colors --- */
  --carolina-blue: #4B9CD3;     /* Primary - PMS 542c */
  --navy: #13294B;              /* Primary - PMS 2767c */
  --unc-black: #151515;         /* Primary - PMS Black 3 */
  --white: #FFFFFF;
  --link-blue: #007FAE;         /* Web hyperlinks on white backgrounds */
  
  /* --- Extended Palette --- */
  --carolina-blue-light: #7FB5DC;   /* Lighter tint for backgrounds */
  --carolina-blue-dark: #3A7CAA;    /* Darker shade for hover states */
  --navy-light: #1E3A5F;            /* Lighter navy for gradients */
  --navy-dark: #0D1B2A;             /* Deeper navy for contrast */
  
  /* --- Neutral Palette --- */
  --gray-50: #FAFAFA;
  --gray-100: #F5F5F5;
  --gray-200: #E5E5E5;
  --gray-300: #D4D4D4;
  --gray-400: #A3A3A3;
  --gray-500: #737373;
  --gray-600: #525252;
  --gray-700: #404040;
  --gray-800: #262626;
  --gray-900: #171717;
  
  /* --- Accent Colors (complementary to UNC palette) --- */
  --cream: #FAF9F7;                 /* Warm white for sections */
  --stone: #F5F3F0;                 /* Subtle warm gray */
  
  /* --- Legacy variable mappings (for backward compatibility) --- */
  --black: var(--unc-black);
  --accent-cyan: var(--carolina-blue);
  --accent-navy: var(--navy);
  --color-sky: var(--carolina-blue);
  --color-navy: var(--navy);
  --color-cream: var(--cream);
  --color-gray: var(--gray-500);
  
  /* --- Semantic Colors --- */
  --border-color: rgba(21, 21, 21, 0.1);
  --border-color-solid: var(--unc-black);
  
  /* --- Typography --- */
  --font-display: 'Playfair', serif;
  --font-body: 'Inter', ui-sans-serif, system-ui, sans-serif;
  
  /* --- Spacing (viewport-based like Nippori) --- */
  --container-padding-mobile: calc(20 / 375 * 100vw);
  --container-padding-desktop: calc(80 / 1440 * 100vw);
  --section-gap: calc(60 / 1440 * 100vw);
  
  /* --- Animation Timing (Premium Easing) --- */
  --ease-expo-out: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-quint-out: cubic-bezier(0.22, 1, 0.36, 1);
  --ease-expo-in-out: cubic-bezier(0.87, 0, 0.13, 1);
  --ease-cubic-out: cubic-bezier(0.215, 0.61, 0.355, 1);
  --ease-power3-out: cubic-bezier(0.33, 1, 0.68, 1);
  --ease-power4-out: cubic-bezier(0.25, 1, 0.5, 1);
  --ease-circ-out: cubic-bezier(0, 0.55, 0.45, 1);
  --ease-back-out: cubic-bezier(0.34, 1.56, 0.64, 1);
  
  /* --- Layout --- */
  --header-height: 80px;
  
  /* --- Smooth Scrolling --- */
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  -ms-overflow-style: none;
}

:root::-webkit-scrollbar {
  display: none;
}

/* Scroll margin for anchor links */
[id] {
  scroll-margin-top: 5.5rem;
}

/* Scrollbar hide utility */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* =============================================================================
   Tailwind Theme Integration
   ============================================================================= */

@theme inline {
  --color-background: var(--white);
  --color-foreground: var(--unc-black);
  --font-sans: var(--font-body);
  --font-serif: var(--font-display);
  
  /* Official UNC Colors */
  --color-carolina: var(--carolina-blue);
  --color-carolina-light: var(--carolina-blue-light);
  --color-carolina-dark: var(--carolina-blue-dark);
  --color-navy: var(--navy);
  --color-navy-light: var(--navy-light);
  --color-navy-dark: var(--navy-dark);
  --color-link: var(--link-blue);
}

/* =============================================================================
   Base Styles (Fluid Typography)
   ============================================================================= */

html {
  font-size: calc(16 / 375 * 100vw);
}

@media (min-width: 768px) {
  html {
    font-size: max(calc(16 / 1440 * 100vw), 12px);
  }
}

@media (min-width: 1440px) {
  html {
    font-size: 16px;
  }
}

/* =============================================================================
   Responsive Typography Scale with Minimums
   These classes use clamp() to provide fluid scaling with min/max constraints
   ============================================================================= */

/* Display sizes - for headlines and hero text */
.text-display-1 {
  font-size: clamp(2.5rem, calc(80/375*100vw), 5rem);
}
@media (min-width: 768px) {
  .text-display-1 {
    font-size: clamp(3rem, calc(180/1440*100vw), 11.25rem);
  }
}

.text-display-2 {
  font-size: clamp(1.75rem, calc(52/375*100vw), 3.25rem);
}
@media (min-width: 768px) {
  .text-display-2 {
    font-size: clamp(2.5rem, calc(120/1440*100vw), 7.5rem);
  }
}

.text-display-3 {
  font-size: clamp(1.5rem, calc(40/375*100vw), 2.5rem);
}
@media (min-width: 768px) {
  .text-display-3 {
    font-size: clamp(2rem, calc(80/1440*100vw), 5rem);
  }
}

/* Heading sizes */
.text-heading-1 {
  font-size: clamp(1.5rem, calc(28/375*100vw), 1.75rem);
}
@media (min-width: 768px) {
  .text-heading-1 {
    font-size: clamp(1.75rem, calc(56/1440*100vw), 3.5rem);
  }
}

.text-heading-2 {
  font-size: clamp(1.25rem, calc(24/375*100vw), 1.5rem);
}
@media (min-width: 768px) {
  .text-heading-2 {
    font-size: clamp(1.5rem, calc(36/1440*100vw), 2.25rem);
  }
}

/* Body sizes */
.text-body-fluid {
  font-size: clamp(0.875rem, calc(14/375*100vw), 1rem);
}
@media (min-width: 768px) {
  .text-body-fluid {
    font-size: clamp(0.875rem, calc(20/1440*100vw), 1.25rem);
  }
}

.text-body-sm-fluid {
  font-size: clamp(0.75rem, calc(13/375*100vw), 0.875rem);
}
@media (min-width: 768px) {
  .text-body-sm-fluid {
    font-size: clamp(0.75rem, calc(16/1440*100vw), 1rem);
  }
}

/* Label/caption sizes */
.text-label-fluid {
  font-size: clamp(0.625rem, calc(10/375*100vw), 0.75rem);
}
@media (min-width: 768px) {
  .text-label-fluid {
    font-size: clamp(0.625rem, calc(14/1440*100vw), 0.875rem);
  }
}

body {
  background-color: var(--white);
  color: var(--unc-black);
  font-family: var(--font-body);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

::selection {
  background-color: var(--carolina-blue);
  color: var(--white);
}

/* Lenis Smooth Scroll */
html.lenis { height: auto; }
.lenis.lenis-smooth { scroll-behavior: auto !important; }
.lenis.lenis-smooth [data-lenis-prevent] { overscroll-behavior: contain; }
.lenis.lenis-stopped { overflow: hidden; }

/* =============================================================================
   Typography System (Nippori-accurate + Extended)
   ============================================================================= */

/* Hero Display - Massive (200-300px desktop) */
.type-display-hero {
  font-family: var(--font-display);
  font-size: clamp(4rem, calc(200 / 1440 * 100vw), 12.5rem);
  font-weight: 400;
  line-height: 0.85;
  letter-spacing: -0.03em;
}

/* Display XL (180px) */
.type-display-xl {
  font-family: var(--font-display);
  font-size: clamp(3.5rem, calc(180 / 1440 * 100vw), 11.25rem);
  font-weight: 400;
  line-height: 0.88;
  letter-spacing: -0.025em;
}

/* Display Large (120px) */
.type-display-lg {
  font-family: var(--font-display);
  font-size: clamp(3rem, calc(120 / 1440 * 100vw), 7.5rem);
  font-weight: 400;
  line-height: 0.9;
  letter-spacing: -0.02em;
}

/* Display Medium (80px) */
.type-display-md {
  font-family: var(--font-display);
  font-size: clamp(2.5rem, calc(80 / 1440 * 100vw), 5rem);
  font-weight: 400;
  line-height: 0.95;
  letter-spacing: -0.02em;
}

/* Display Small (50px) */
.type-display-sm {
  font-family: var(--font-display);
  font-size: clamp(1.75rem, calc(50 / 1440 * 100vw), 3.125rem);
  font-weight: 400;
  line-height: 1;
  letter-spacing: -0.01em;
}

/* Display Tiny (36px) */
.type-display-xs {
  font-family: var(--font-display);
  font-size: clamp(1.5rem, calc(36 / 1440 * 100vw), 2.25rem);
  font-weight: 400;
  line-height: 1.1;
}

/* Heading Large (32px) */
.type-h1 {
  font-family: var(--font-display);
  font-size: clamp(1.5rem, calc(32 / 1440 * 100vw), 2rem);
  font-weight: 400;
  line-height: 1.1;
}

/* Body Large (18px) */
.type-body-lg {
  font-family: var(--font-body);
  font-size: 1.125rem;
  font-weight: 400;
  line-height: 1.6;
}

/* Body Default (16px) */
.type-body {
  font-family: var(--font-body);
  font-size: 1rem;
  font-weight: 400;
  line-height: 1.6;
}

/* Body Small (14px) */
.type-body-sm {
  font-family: var(--font-body);
  font-size: 0.875rem;
  font-weight: 400;
  line-height: 1.5;
}

/* Body XS (12px) */
.type-body-xs {
  font-family: var(--font-body);
  font-size: 0.75rem;
  font-weight: 400;
  line-height: 1.4;
}

/* Label/UI (12px) */
.type-label {
  font-family: var(--font-display);
  font-size: 0.75rem;
  font-weight: 400;
  line-height: 1;
  letter-spacing: 0.05em;
}

/* Label Uppercase */
.type-label-caps {
  font-family: var(--font-body);
  font-size: 0.625rem;
  font-weight: 500;
  line-height: 1;
  letter-spacing: 0.1em;
  text-transform: uppercase;
}

/* Tiny Label (10px) */
.type-label-sm {
  font-family: var(--font-display);
  font-size: 0.625rem;
  font-weight: 400;
  line-height: 1;
}

/* =============================================================================
   Container
   ============================================================================= */

.container-nippori {
  width: 100%;
  max-width: 1440px;
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--container-padding-mobile);
  padding-right: var(--container-padding-mobile);
}

@media (min-width: 768px) {
  .container-nippori {
    padding-left: var(--container-padding-desktop);
    padding-right: var(--container-padding-desktop);
  }
}

.container-narrow {
  max-width: 1200px;
}

.container-wide {
  max-width: 1680px;
}

/* =============================================================================
   Animation Keyframes (Premium Suite)
   ============================================================================= */

/* Marquee - Infinite horizontal scroll */
@keyframes marquee {
  0% { transform: translate3d(0, 0, 0); }
  100% { transform: translate3d(-100%, 0, 0); }
}

.animate-marquee {
  animation: marquee var(--duration, 20s) 0.8s normal linear infinite;
}

/* Reverse Marquee */
@keyframes marquee-reverse {
  0% { transform: translate3d(-100%, 0, 0); }
  100% { transform: translate3d(0, 0, 0); }
}

.animate-marquee-reverse {
  animation: marquee-reverse var(--duration, 20s) 0.8s normal linear infinite;
}

/* Scroll Indicator */
@keyframes scrollIndicator {
  0%, 100% { transform: translateY(-100%); }
  50% { transform: translateY(100%); }
}

/* Scroll Down Animation */
@keyframes scrollDown {
  0% { transform: translateY(-100%); opacity: 0; }
  30% { opacity: 1; }
  70% { opacity: 1; }
  100% { transform: translateY(200%); opacity: 0; }
}

/* Fade In */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

/* Slide Up */
@keyframes slideUp {
  from { 
    opacity: 0;
    transform: translateY(100%);
  }
  to { 
    opacity: 1;
    transform: translateY(0);
  }
}

/* Scale In */
@keyframes scaleIn {
  from { 
    opacity: 0;
    transform: scale(0.95);
  }
  to { 
    opacity: 1;
    transform: scale(1);
  }
}

/* Loading Pulse */
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

/* Breathing Scale */
@keyframes breathe {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}

/* Float */
@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}

/* Spin Slow */
@keyframes spin-slow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Grain Effect */
@keyframes grain {
  0%, 100% { transform: translate(0, 0); }
  10% { transform: translate(-5%, -10%); }
  20% { transform: translate(-15%, 5%); }
  30% { transform: translate(7%, -25%); }
  40% { transform: translate(-5%, 25%); }
  50% { transform: translate(-15%, 10%); }
  60% { transform: translate(15%, 0%); }
  70% { transform: translate(0%, 15%); }
  80% { transform: translate(3%, 35%); }
  90% { transform: translate(-10%, 10%); }
}

/* Line Reveal */
@keyframes lineReveal {
  from { 
    transform: scaleX(0);
    transform-origin: left;
  }
  to { 
    transform: scaleX(1);
    transform-origin: left;
  }
}

/* =============================================================================
   Text Reveal Effects (Nippori Premium Animations)
   ============================================================================= */

/* Split Line - Line by line reveal */
.effect-split-line .line {
  overflow: hidden;
}

.effect-split-line .word {
  display: inline-block;
  transform: perspective(1000px) translateY(100%);
  will-change: transform;
}

.is-active .effect-split-line .word,
.effect-split-line.is-active .word {
  transform: perspective(1000px) translateY(0);
  transition: transform 1.2s var(--ease-expo-out);
  transition-delay: calc(var(--top-delay, 0) * 1ms);
}

/* Split Word - Word by word reveal */
.effect-split-word .line {
  overflow: hidden;
}

.effect-split-word .word {
  display: inline-block;
  transform: perspective(1000px) translateY(115%);
  will-change: transform;
}

.is-active .effect-split-word .word,
.effect-split-word.is-active .word {
  transform: perspective(1000px) translateY(0);
  transition: transform 0.8s var(--ease-cubic-out);
  transition-delay: calc(var(--left-delay, 0) * 1ms);
}

/* Split Word - Center variant */
.is-active .effect-split-word.--center .word,
.effect-split-word.--center.is-active .word {
  transition-delay: calc(var(--center-delay, 0) * 1ms);
}

/* Split Char - Character by character reveal */
.effect-split-char .char {
  overflow: clip;
  display: inline-block;
}

.effect-split-char .char span {
  display: inline-block;
  transform: perspective(1000px) translateY(115%);
  will-change: transform;
}

.is-active .effect-split-char .char span,
.effect-split-char.is-active .char span {
  transform: perspective(1000px) translateY(0);
  transition: transform 1.1s var(--ease-expo-out);
  transition-delay: calc(var(--left-delay, 0) * 1ms);
}

/* Rotate 3D Reveal */
.effect-rotate-3d {
  perspective: 1000px;
  overflow: hidden;
}

.effect-rotate-3d .word {
  display: inline-block;
  transform: rotateX(-90deg) translateY(100%);
  transform-origin: bottom;
  opacity: 0;
  will-change: transform, opacity;
}

.is-active .effect-rotate-3d .word,
.effect-rotate-3d.is-active .word {
  transform: rotateX(0) translateY(0);
  opacity: 1;
  transition: transform 1s var(--ease-expo-out), opacity 0.6s var(--ease-expo-out);
  transition-delay: calc(var(--delay, 0) * 1ms);
}

/* Blur Reveal */
.effect-blur-in {
  filter: blur(20px);
  opacity: 0;
  transform: translateY(30px);
  will-change: filter, opacity, transform;
}

.is-active .effect-blur-in,
.effect-blur-in.is-active {
  filter: blur(0);
  opacity: 1;
  transform: translateY(0);
  transition: filter 1.2s var(--ease-expo-out), 
              opacity 1s var(--ease-expo-out), 
              transform 1s var(--ease-expo-out);
}

/* Stagger delay utility classes */
.stagger-1 { --delay: 0ms; }
.stagger-2 { --delay: 50ms; }
.stagger-3 { --delay: 100ms; }
.stagger-4 { --delay: 150ms; }
.stagger-5 { --delay: 200ms; }
.stagger-6 { --delay: 250ms; }
.stagger-7 { --delay: 300ms; }
.stagger-8 { --delay: 350ms; }

/* =============================================================================
   Image Reveal Effects (Nippori Clip-Path)
   ============================================================================= */

/* Image Reveal - Clip path from center */
.effect-image {
  clip-path: inset(50%);
  transition: clip-path 1.2s var(--ease-quint-out);
  overflow: hidden;
}

.effect-image img,
.effect-image > div {
  transform: scale(1.2);
  transition: transform 1.2s var(--ease-quint-out);
  will-change: transform;
}

.is-active .effect-image,
.effect-image.is-active {
  clip-path: inset(0);
}

.is-active .effect-image img,
.is-active .effect-image > div,
.effect-image.is-active img,
.effect-image.is-active > div {
  transform: scale(1);
}

/* Image Reveal - Horizontal wipe from left */
.effect-image-horizontal {
  clip-path: inset(0 100% 0 0);
  transition: clip-path 1s var(--ease-expo-out);
  overflow: hidden;
}

.effect-image-horizontal img {
  transform: scale(1.1);
  transition: transform 1s var(--ease-expo-out);
}

.is-active .effect-image-horizontal,
.effect-image-horizontal.is-active {
  clip-path: inset(0 0 0 0);
}

.is-active .effect-image-horizontal img,
.effect-image-horizontal.is-active img {
  transform: scale(1);
}

/* Image Reveal - Horizontal wipe from right */
.effect-image-horizontal-right {
  clip-path: inset(0 0 0 100%);
  transition: clip-path 1s var(--ease-expo-out);
  overflow: hidden;
}

.is-active .effect-image-horizontal-right,
.effect-image-horizontal-right.is-active {
  clip-path: inset(0 0 0 0);
}

/* Image Reveal - Vertical wipe from bottom */
.effect-image-vertical {
  clip-path: inset(100% 0 0 0);
  transition: clip-path 1s var(--ease-expo-out);
  overflow: hidden;
}

.is-active .effect-image-vertical,
.effect-image-vertical.is-active {
  clip-path: inset(0 0 0 0);
}

/* Image Reveal - Vertical wipe from top */
.effect-image-vertical-top {
  clip-path: inset(0 0 100% 0);
  transition: clip-path 1s var(--ease-expo-out);
  overflow: hidden;
}

.is-active .effect-image-vertical-top,
.effect-image-vertical-top.is-active {
  clip-path: inset(0 0 0 0);
}

/* Image Reveal - Diagonal */
.effect-image-diagonal {
  clip-path: polygon(0 0, 0 0, 0 100%, 0% 100%);
  transition: clip-path 1.2s var(--ease-expo-out);
  overflow: hidden;
}

.is-active .effect-image-diagonal,
.effect-image-diagonal.is-active {
  clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);
}

/* Image Reveal - Circle expand */
.effect-image-circle {
  clip-path: circle(0% at 50% 50%);
  transition: clip-path 1.4s var(--ease-expo-out);
  overflow: hidden;
}

.is-active .effect-image-circle,
.effect-image-circle.is-active {
  clip-path: circle(100% at 50% 50%);
}

/* Parallax effect */
.effect-parallax {
  transform: perspective(1000px) translateY(calc(var(--progress, 0) * 100%));
  transform-origin: center;
  will-change: transform;
}

/* =============================================================================
   Fade Effects
   ============================================================================= */

/* Fade Up */
.effect-fade-up {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.8s var(--ease-expo-out), transform 0.8s var(--ease-expo-out);
  transition-delay: var(--delay, 0ms);
}

.is-active .effect-fade-up,
.effect-fade-up.is-active {
  opacity: 1;
  transform: translateY(0);
}

/* Fade Down */
.effect-fade-down {
  opacity: 0;
  transform: translateY(-30px);
  transition: opacity 0.8s var(--ease-expo-out), transform 0.8s var(--ease-expo-out);
  transition-delay: var(--delay, 0ms);
}

.is-active .effect-fade-down,
.effect-fade-down.is-active {
  opacity: 1;
  transform: translateY(0);
}

/* Fade Left */
.effect-fade-left {
  opacity: 0;
  transform: translateX(30px);
  transition: opacity 0.8s var(--ease-expo-out), transform 0.8s var(--ease-expo-out);
  transition-delay: var(--delay, 0ms);
}

.is-active .effect-fade-left,
.effect-fade-left.is-active {
  opacity: 1;
  transform: translateX(0);
}

/* Fade Right */
.effect-fade-right {
  opacity: 0;
  transform: translateX(-30px);
  transition: opacity 0.8s var(--ease-expo-out), transform 0.8s var(--ease-expo-out);
  transition-delay: var(--delay, 0ms);
}

.is-active .effect-fade-right,
.effect-fade-right.is-active {
  opacity: 1;
  transform: translateX(0);
}

/* Fade In */
.effect-fade {
  opacity: 0;
  transition: opacity 1s var(--ease-expo-out);
  transition-delay: var(--delay, 0ms);
}

.is-active .effect-fade,
.effect-fade.is-active {
  opacity: 1;
}

/* Fade Scale */
.effect-fade-scale {
  opacity: 0;
  transform: scale(0.95);
  transition: opacity 0.6s var(--ease-expo-out), transform 0.6s var(--ease-expo-out);
  transition-delay: var(--delay, 0ms);
}

.is-active .effect-fade-scale,
.effect-fade-scale.is-active {
  opacity: 1;
  transform: scale(1);
}

/* =============================================================================
   Link & Button Styles (Nippori-accurate)
   ============================================================================= */

/* Base link - opacity fade */
.link {
  opacity: 1;
  transition: opacity 0.8s;
}

.link:hover {
  opacity: 0.6;
  transition: opacity 0.3s ease-out;
}

@media (prefers-reduced-motion) {
  .link {
    transition: opacity 1s linear;
  }
}

/* Link with background color change (black fill) */
.link-black {
  background-color: transparent;
  transition: background-color 0.3s ease-out;
}

.link-black .--color {
  transition: color 0.3s ease-out;
}

.link-black:hover {
  background-color: var(--black);
}

.link-black:hover .--color {
  color: var(--white);
}

/* Link with fill on hover */
.link-fill {
  background-color: transparent;
  transition: background-color 0.3s ease-out, color 0.3s ease-out;
}

.link-fill:hover {
  background-color: var(--black);
  color: var(--white);
}

/* Link fill reverse (from filled to transparent) */
.link-fill-reverse {
  background-color: var(--black);
  color: var(--white);
  transition: background-color 0.3s ease-out, color 0.3s ease-out;
}

.link-fill-reverse:hover {
  background-color: var(--accent-cyan);
  color: var(--white);
}

/* Navigation link with text slide effect */
.link-nav {
  position: relative;
  overflow: hidden;
}

.link-nav .--line {
  position: relative;
  display: block;
}

.link-nav .--line::before {
  content: attr(data-text);
  position: absolute;
  inset: 0;
  transform: translateY(100%);
  transition: transform 1.1s var(--ease-expo-out);
}

.link-nav .--line .word {
  display: inline-block;
  transform: translateY(0);
  transition: transform 1.1s var(--ease-expo-out);
}

.link-nav:hover .--line::before,
.link-nav.is-hover .--line::before {
  transform: translateY(0);
  transition: transform 0.6s var(--ease-expo-in-out);
}

.link-nav:hover .--line .word,
.link-nav.is-hover .--line .word {
  transform: translateY(-100%);
  transition: transform 0.6s var(--ease-expo-in-out);
}

/* Underline link effect */
.link-underline {
  position: relative;
}

.link-underline::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 1px;
  background-color: currentColor;
  transform: scaleX(0);
  transform-origin: right;
  transition: transform 0.5s var(--ease-expo-out);
}

.link-underline:hover::after {
  transform: scaleX(1);
  transform-origin: left;
}

/* Magnetic button effect container */
.magnetic-area {
  position: relative;
}

/* Pill Button (rounded-full) */
.btn-pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.625rem 1.375rem;
  border: 1px solid var(--black);
  border-radius: 9999px;
  font-family: var(--font-display);
  font-size: 0.75rem;
  background-color: transparent;
  color: var(--black);
  transition: background-color 0.3s ease-out, color 0.3s ease-out, transform 0.3s ease-out;
}

.btn-pill:hover {
  background-color: var(--black);
  color: var(--white);
}

.btn-pill:active {
  transform: scale(0.98);
}

/* Square Button */
.btn-square {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  border: 1px solid var(--black);
  font-family: var(--font-display);
  font-size: 0.75rem;
  background-color: var(--black);
  color: var(--white);
  transition: background-color 0.3s ease-out, border-color 0.3s ease-out, transform 0.3s ease-out;
}

.btn-square:hover {
  background-color: var(--accent-cyan);
  border-color: var(--accent-cyan);
}

.btn-square:active {
  transform: scale(0.98);
}

/* Ghost Button */
.btn-ghost {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  border: 1px solid var(--black);
  font-family: var(--font-display);
  font-size: 0.75rem;
  background-color: transparent;
  color: var(--black);
  transition: background-color 0.3s ease-out, color 0.3s ease-out;
}

.btn-ghost:hover {
  background-color: var(--black);
  color: var(--white);
}

/* Button with animated arrow */
.btn-arrow {
  display: inline-flex;
  align-items: center;
  gap: 0.75rem;
  font-family: var(--font-display);
  font-size: 0.75rem;
  color: var(--black);
  transition: color 0.3s ease-out;
}

.btn-arrow:hover {
  color: var(--accent-cyan);
}

.btn-arrow .--arrow {
  position: relative;
  width: 1.5rem;
  height: 0.75rem;
  overflow: hidden;
}

.btn-arrow .--arrow-before,
.btn-arrow .--arrow-after {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.btn-arrow .--arrow-before {
  transform: translate(0) scale(1);
  transition: transform 0.3s ease;
}

.btn-arrow .--arrow-after {
  transform: translate(-100%) scale(0.1);
  transition: transform 0.3s ease;
}

.btn-arrow:hover .--arrow-before {
  transform: translate(100%) scale(0.1);
}

.btn-arrow:hover .--arrow-after {
  transform: translate(0) scale(1);
}

/* =============================================================================
   Card Styles
   ============================================================================= */

.card-bordered {
  border: 1px solid var(--black);
  background-color: var(--white);
  transition: background-color 0.3s ease-out;
}

.card-bordered:hover {
  background-color: var(--color-cream);
}

/* Card with hover invert */
.card-invert {
  background-color: var(--white);
  transition: background-color 0.3s ease-out, color 0.3s ease-out;
}

.card-invert:hover {
  background-color: var(--black);
  color: var(--white);
}

/* Card with hover lift */
.card-lift {
  transition: transform 0.4s var(--ease-expo-out), box-shadow 0.4s var(--ease-expo-out);
}

.card-lift:hover {
  transform: translateY(-8px);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
}

/* =============================================================================
   Coordinated Hover Transitions
   Prevents "flash" effects where text becomes invisible during bg color change
   ============================================================================= */

/*
 * Problem: When transitioning bg-black → bg-[color] AND text-white → text-black,
 * the text passes through gray while the background is still dark = invisible text.
 *
 * Solution: Use different transition timings so text "snaps" rather than animates,
 * or delay text color change until background is lighter.
 */

/* Hover invert: white bg → black bg, black text → white text */
/* Text changes instantly on hover, delays on leave */
.hover-invert-coordinated {
  transition: background-color 0.4s var(--ease-expo-out);
}

.hover-invert-coordinated * {
  transition: color 0.1s ease-out 0.05s; /* Fast with slight delay */
}

.hover-invert-coordinated:hover * {
  transition: color 0.05s ease-out 0s; /* Near-instant on hover */
}

/* Hover fill: transparent/white → black bg, inherits text that goes white */
.hover-fill-coordinated {
  transition: background-color 0.35s var(--ease-expo-out);
}

.hover-fill-coordinated > * {
  transition: color 0.15s ease-out;
}

.hover-fill-coordinated:hover > * {
  transition-delay: 0.1s; /* Wait for bg to darken */
}

/* Hover accent: black bg → accent color, white text → black text */
/* Text changes BEFORE background so it's visible during transition */
.hover-accent-coordinated {
  transition: background-color 0.3s var(--ease-expo-out) 0.05s; /* Slight delay on bg */
}

.hover-accent-coordinated * {
  transition: color 0.15s ease-out; /* Text changes first */
}

/* Alternative: Use step timing for instant color change */
.hover-snap-text {
  transition: background-color 0.3s var(--ease-expo-out);
}

.hover-snap-text * {
  transition: color 0s; /* Instant */
}

/* Utility classes for individual elements */
.transition-color-snap {
  transition-property: color;
  transition-duration: 0s;
  transition-timing-function: step-end;
}

.transition-color-fast {
  transition-property: color;
  transition-duration: 0.1s;
  transition-timing-function: ease-out;
}

.transition-color-delayed {
  transition-property: color;
  transition-duration: 0.2s;
  transition-timing-function: ease-out;
  transition-delay: 0.15s;
}

/* Group hover coordination - for parent with hover:bg and children with group-hover:text */
.group.hover-coord {
  transition: background-color 0.3s var(--ease-expo-out);
}

/* Child text snaps on hover in, delays on hover out */
.group.hover-coord .group-hover-text {
  transition: color 0.05s ease-out;
}

.group.hover-coord:hover .group-hover-text {
  transition: color 0.01s ease-out;
}

/* Dark to light transition (black bg → light bg, white text → dark text) */
/* Text needs to change faster so it's dark before bg is fully light */
.group.hover-dark-to-light {
  transition: background-color 0.35s var(--ease-expo-out);
}

.group.hover-dark-to-light [class*="group-hover:text-black"],
.group.hover-dark-to-light [class*="group-hover:text-["] {
  transition: color 0.08s ease-out !important;
}

/* Light to dark transition (white/light bg → black bg, dark text → white text) */
/* Text needs to wait until bg is dark enough */
.group.hover-light-to-dark {
  transition: background-color 0.25s var(--ease-expo-out);
}

.group.hover-light-to-dark [class*="group-hover:text-white"],
.group.hover-light-to-dark [class*="group-hover:text-[var(--accent-cyan)]"] {
  transition: color 0.2s ease-out 0.1s !important;
}

.group.hover-light-to-dark:hover [class*="group-hover:text-white"],
.group.hover-light-to-dark:hover [class*="group-hover:text-[var(--accent-cyan)]"] {
  transition: color 0.15s ease-out 0.08s !important;
}

/* Dark to accent transition (black bg → accent/colored bg, white text → dark text) */
/* Text should snap quickly as bg transitions to lighter accent color */
.group.hover-dark-to-accent {
  transition: background-color 0.3s var(--ease-expo-out);
}

.group.hover-dark-to-accent [class*="group-hover:text-black"],
.group.hover-dark-to-accent [class*="group-hover:text-["] {
  transition: color 0.05s ease-out !important; /* Near-instant */
}

/* Non-group version for direct hover elements (no group parent) */
.hover-dark-to-accent {
  transition: background-color 0.3s var(--ease-expo-out), color 0.05s ease-out !important;
}

.hover-light-to-dark-direct {
  transition: background-color 0.25s var(--ease-expo-out), color 0.2s ease-out 0.1s !important;
}

/* Universal child text delay for light-to-dark patterns */
/* Use this on children when parent doesn't use group pattern */
.text-delay-on-hover {
  transition: color 0.2s ease-out 0.1s !important;
}

/* For non-group elements that need coordinated hover */
/* Apply to element with both hover:bg-* and hover:text-* */
a.hover-light-to-dark-direct,
button.hover-light-to-dark-direct,
div.hover-light-to-dark-direct {
  transition: background-color 0.25s var(--ease-expo-out);
}

a.hover-light-to-dark-direct:hover,
button.hover-light-to-dark-direct:hover,
div.hover-light-to-dark-direct:hover {
  transition: background-color 0.25s var(--ease-expo-out), color 0.15s ease-out 0.1s;
}

a.hover-dark-to-light-direct,
button.hover-dark-to-light-direct,
div.hover-dark-to-light-direct {
  transition: background-color 0.35s var(--ease-expo-out), color 0.08s ease-out;
}

a.hover-dark-to-accent-direct,
button.hover-dark-to-accent-direct,
div.hover-dark-to-accent-direct {
  transition: background-color 0.3s var(--ease-expo-out), color 0.05s ease-out;
}

/* =============================================================================
   Page Transition Overlay
   ============================================================================= */

.page-transition {
  position: fixed;
  inset: 0;
  background-color: var(--white);
  z-index: 9997;
  pointer-events: none;
  transform-origin: bottom;
  transform: scaleY(0);
  transition: transform 0.6s var(--ease-expo-out);
}

.page-transition.is-active {
  transform: scaleY(1);
}

.page-transition .--fade {
  transform: translateY(100%);
  opacity: 0;
  transition: opacity 0.6s var(--ease-expo-out), transform 0.6s var(--ease-expo-out);
  transition-delay: calc(0.4s + var(--delay, 0ms));
}

.page-transition.is-active .--fade {
  transform: translateY(0);
  opacity: 1;
}

/* Loading overlay */
.loading-overlay {
  position: fixed;
  inset: 0;
  background-color: var(--white);
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
}

.loading-overlay .--text {
  opacity: 0;
  transform: translateY(20px);
  animation: fadeInUp 0.6s var(--ease-expo-out) forwards;
  animation-delay: var(--delay, 0ms);
}

@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Loading Bar */
.loading-bar {
  position: relative;
  width: 200px;
  height: 1px;
  background-color: var(--border-color);
  overflow: hidden;
}

.loading-bar::after {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 100%;
  background-color: var(--black);
  transform: scaleX(var(--progress, 0));
  transform-origin: left;
  transition: transform 0.3s var(--ease-expo-out);
}

/* =============================================================================
   Utility Classes
   ============================================================================= */

/* Border utilities */
.border-theme { border-color: var(--unc-black); }
.border-theme-light { border-color: rgba(21, 21, 21, 0.1); }
.border-theme-medium { border-color: rgba(21, 21, 21, 0.2); }

/* Background utilities */
.bg-cream { background-color: var(--cream); }
.bg-stone { background-color: var(--stone); }
.bg-navy { background-color: var(--navy); }
.bg-navy-light { background-color: var(--navy-light); }
.bg-navy-dark { background-color: var(--navy-dark); }
.bg-carolina { background-color: var(--carolina-blue); }
.bg-carolina-light { background-color: var(--carolina-blue-light); }
.bg-carolina-dark { background-color: var(--carolina-blue-dark); }

/* Text utilities */
.text-carolina { color: var(--carolina-blue); }
.text-carolina-dark { color: var(--carolina-blue-dark); }
.text-navy { color: var(--navy); }
.text-navy-light { color: var(--navy-light); }
.text-link { color: var(--link-blue); }
.text-muted { color: rgba(21, 21, 21, 0.5); }
.text-subtle { color: rgba(21, 21, 21, 0.3); }

/* Aspect ratios */
.aspect-portrait { aspect-ratio: 3 / 4; }
.aspect-portrait-tall { aspect-ratio: 2 / 3; }
.aspect-landscape { aspect-ratio: 4 / 3; }
.aspect-wide { aspect-ratio: 16 / 9; }
.aspect-ultrawide { aspect-ratio: 21 / 9; }
.aspect-square { aspect-ratio: 1 / 1; }

/* Image grayscale effect */
.img-grayscale {
  filter: grayscale(100%);
  transition: filter 0.6s ease-out;
}

.img-grayscale:hover,
.group:hover .img-grayscale {
  filter: grayscale(0%);
}

/* Sepia effect */
.img-sepia {
  filter: sepia(30%);
  transition: filter 0.6s ease-out;
}

.img-sepia:hover,
.group:hover .img-sepia {
  filter: sepia(0%);
}

/* Contrast boost on hover */
.img-contrast:hover,
.group:hover .img-contrast {
  filter: contrast(1.1);
  transition: filter 0.6s ease-out;
}

/* Text overflow/clamping */
.text-overflow {
  display: -webkit-box;
  overflow: hidden;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 1;
}

.text-overflow-2 { -webkit-line-clamp: 2; }
.text-overflow-3 { -webkit-line-clamp: 3; }
.text-overflow-4 { -webkit-line-clamp: 4; }

/* =============================================================================
   Responsive Font Sizes (Nippori viewport-based)
   ============================================================================= */

.text-hero-responsive {
  font-size: 20vw;
}

@media (min-width: 768px) {
  .text-hero-responsive {
    font-size: calc(300 / 1440 * 100vw);
  }
}

@media (min-width: 1440px) {
  .text-hero-responsive {
    font-size: 12.5rem;
  }
}

/* Mega text for hero */
.text-mega {
  font-size: 15vw;
  line-height: 0.85;
  letter-spacing: -0.04em;
}

@media (min-width: 768px) {
  .text-mega {
    font-size: calc(220 / 1440 * 100vw);
  }
}

@media (min-width: 1440px) {
  .text-mega {
    font-size: 13.75rem;
  }
}

/* =============================================================================
   Fluid Font Size Utilities with Minimum Constraints
   These use CSS max() to prevent fonts from becoming too small on tablets
   ============================================================================= */

/* Fluid text sizes with minimums - use these instead of raw calc() in Tailwind */
.text-fluid-xs {
  font-size: calc(10 / 375 * 100vw);
}
@media (min-width: 768px) {
  .text-fluid-xs {
    font-size: max(10px, calc(12 / 1440 * 100vw));
  }
}

.text-fluid-sm {
  font-size: calc(11 / 375 * 100vw);
}
@media (min-width: 768px) {
  .text-fluid-sm {
    font-size: max(11px, calc(14 / 1440 * 100vw));
  }
}

.text-fluid-base {
  font-size: calc(12 / 375 * 100vw);
}
@media (min-width: 768px) {
  .text-fluid-base {
    font-size: max(12px, calc(16 / 1440 * 100vw));
  }
}

.text-fluid-md {
  font-size: calc(14 / 375 * 100vw);
}
@media (min-width: 768px) {
  .text-fluid-md {
    font-size: max(14px, calc(18 / 1440 * 100vw));
  }
}

.text-fluid-lg {
  font-size: calc(16 / 375 * 100vw);
}
@media (min-width: 768px) {
  .text-fluid-lg {
    font-size: max(16px, calc(22 / 1440 * 100vw));
  }
}

.text-fluid-xl {
  font-size: calc(20 / 375 * 100vw);
}
@media (min-width: 768px) {
  .text-fluid-xl {
    font-size: max(18px, calc(28 / 1440 * 100vw));
  }
}

.text-fluid-2xl {
  font-size: calc(24 / 375 * 100vw);
}
@media (min-width: 768px) {
  .text-fluid-2xl {
    font-size: max(22px, calc(36 / 1440 * 100vw));
  }
}

.text-fluid-3xl {
  font-size: calc(32 / 375 * 100vw);
}
@media (min-width: 768px) {
  .text-fluid-3xl {
    font-size: max(28px, calc(48 / 1440 * 100vw));
  }
}

.text-fluid-4xl {
  font-size: calc(40 / 375 * 100vw);
}
@media (min-width: 768px) {
  .text-fluid-4xl {
    font-size: max(36px, calc(64 / 1440 * 100vw));
  }
}

.text-fluid-5xl {
  font-size: calc(48 / 375 * 100vw);
}
@media (min-width: 768px) {
  .text-fluid-5xl {
    font-size: max(42px, calc(80 / 1440 * 100vw));
  }
}

/* Header-specific fluid sizes */
.text-fluid-header-logo {
  font-size: calc(14 / 375 * 100vw);
}
@media (min-width: 768px) {
  .text-fluid-header-logo {
    font-size: max(14px, calc(18 / 1440 * 100vw));
  }
}

.text-fluid-header-mark {
  font-size: calc(12 / 375 * 100vw);
}
@media (min-width: 768px) {
  .text-fluid-header-mark {
    font-size: max(12px, calc(16 / 1440 * 100vw));
  }
}

.text-fluid-marquee {
  font-size: calc(11 / 375 * 100vw);
}
@media (min-width: 768px) {
  .text-fluid-marquee {
    font-size: max(11px, calc(14 / 1440 * 100vw));
  }
}

.text-fluid-nav {
  font-size: calc(10 / 375 * 100vw);
}
@media (min-width: 768px) {
  .text-fluid-nav {
    font-size: max(11px, calc(12 / 1440 * 100vw));
  }
}

.text-fluid-cta {
  font-size: calc(10 / 375 * 100vw);
}
@media (min-width: 768px) {
  .text-fluid-cta {
    font-size: max(11px, calc(13 / 1440 * 100vw));
  }
}

.text-fluid-info {
  font-size: calc(9 / 375 * 100vw);
}
@media (min-width: 768px) {
  .text-fluid-info {
    font-size: max(10px, calc(10 / 1440 * 100vw));
  }
}

/* =============================================================================
   Horizontal Scroll Section
   ============================================================================= */

.horizontal-scroll-container {
  display: flex;
  gap: calc(20 / 375 * 100vw);
  padding-left: var(--container-padding-mobile);
  padding-right: var(--container-padding-mobile);
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
}

.horizontal-scroll-container::-webkit-scrollbar {
  display: none;
}

@media (min-width: 768px) {
  .horizontal-scroll-container {
    gap: var(--section-gap);
    padding-left: var(--container-padding-desktop);
    padding-right: var(--container-padding-desktop);
  }
}

.horizontal-scroll-item {
  flex: 0 0 auto;
  scroll-snap-align: start;
}

/* =============================================================================
   Grid Layouts
   ============================================================================= */

.grid-2-col {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: 1px;
}

@media (min-width: 768px) {
  .grid-2-col {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

.grid-3-col {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: 1px;
}

@media (min-width: 768px) {
  .grid-3-col {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (min-width: 1024px) {
  .grid-3-col {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

.grid-4-col {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 1px;
}

@media (min-width: 768px) {
  .grid-4-col {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (min-width: 1024px) {
  .grid-4-col {
    grid-template-columns: repeat(4, minmax(0, 1fr));
  }
}

/* Masonry-style grid */
.grid-masonry {
  columns: 1;
  column-gap: 1rem;
}

@media (min-width: 768px) {
  .grid-masonry {
    columns: 2;
  }
}

@media (min-width: 1024px) {
  .grid-masonry {
    columns: 3;
  }
}

.grid-masonry > * {
  break-inside: avoid;
  margin-bottom: 1rem;
}

/* =============================================================================
   Crosshair Cursor Effect
   ============================================================================= */

.cursor-crosshair {
  position: relative;
}

.cursor-crosshair::before,
.cursor-crosshair::after {
  content: '';
  position: absolute;
  background-color: var(--accent-cyan);
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s ease-out;
}

.cursor-crosshair::before {
  width: 1px;
  height: 100%;
  top: 0;
  left: var(--cursor-x, 50%);
}

.cursor-crosshair::after {
  width: 100%;
  height: 1px;
  left: 0;
  top: var(--cursor-y, 50%);
}

.cursor-crosshair:hover::before,
.cursor-crosshair:hover::after {
  opacity: 1;
}

/* =============================================================================
   Noise/Grain Texture Overlay
   ============================================================================= */

.texture-grain::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  opacity: 0.03;
  pointer-events: none;
  z-index: 1;
}

/* Animated grain */
.texture-grain-animated::before {
  content: '';
  position: absolute;
  inset: -50%;
  width: 200%;
  height: 200%;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
  opacity: 0.03;
  pointer-events: none;
  z-index: 1;
  animation: grain 8s steps(10) infinite;
}

/* =============================================================================
   Decorative Elements
   ============================================================================= */

/* Accent Line */
.accent-line {
  width: 3rem;
  height: 1px;
  background-color: var(--accent-cyan);
}

.accent-line-vertical {
  width: 1px;
  height: 3rem;
  background-color: var(--accent-cyan);
}

/* Animated Accent Line */
.accent-line-animated {
  width: 0;
  height: 1px;
  background-color: var(--accent-cyan);
  transition: width 0.8s var(--ease-expo-out);
}

.is-active .accent-line-animated,
.group:hover .accent-line-animated {
  width: 3rem;
}

/* Decorative Border Box */
.border-box {
  position: relative;
}

.border-box::before {
  content: '';
  position: absolute;
  inset: -1px;
  border: 1px solid var(--black);
  pointer-events: none;
}

/* Corner Accent */
.corner-accent-tl {
  position: absolute;
  top: 0;
  left: 0;
  width: 1.5rem;
  height: 1.5rem;
  border-top: 1px solid var(--accent-cyan);
  border-left: 1px solid var(--accent-cyan);
}

.corner-accent-tr {
  position: absolute;
  top: 0;
  right: 0;
  width: 1.5rem;
  height: 1.5rem;
  border-top: 1px solid var(--accent-cyan);
  border-right: 1px solid var(--accent-cyan);
}

.corner-accent-bl {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 1.5rem;
  height: 1.5rem;
  border-bottom: 1px solid var(--accent-cyan);
  border-left: 1px solid var(--accent-cyan);
}

.corner-accent-br {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 1.5rem;
  height: 1.5rem;
  border-bottom: 1px solid var(--accent-cyan);
  border-right: 1px solid var(--accent-cyan);
}

/* Section Number Background */
.section-number {
  position: absolute;
  font-family: var(--font-display);
  font-size: clamp(150px, 20vw, 300px);
  line-height: 1;
  color: rgba(0, 0, 0, 0.03);
  pointer-events: none;
  user-select: none;
}

/* =============================================================================
   Scroll Progress Indicator
   ============================================================================= */

.scroll-progress {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background-color: transparent;
  z-index: 9999;
}

.scroll-progress::after {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  background-color: var(--accent-cyan);
  transform: scaleX(var(--scroll-progress, 0));
  transform-origin: left;
  transition: transform 0.05s linear;
}

/* =============================================================================
   Hover States for Touch Devices
   ============================================================================= */

@media (hover: none) {
  .link:hover,
  .link-black:hover,
  .link-fill:hover,
  .btn-pill:hover,
  .btn-square:hover,
  .btn-ghost:hover,
  .btn-arrow:hover,
  .card-bordered:hover,
  .card-invert:hover,
  .card-lift:hover {
    opacity: 1;
    background-color: inherit;
    color: inherit;
    transform: none;
    box-shadow: none;
  }
  
  /* Enable active states instead */
  .link:active {
    opacity: 0.7;
  }
  
  .btn-pill:active,
  .btn-square:active,
  .btn-ghost:active {
    transform: scale(0.98);
  }
}

/* =============================================================================
   Focus States (Accessibility)
   ============================================================================= */

:focus-visible {
  outline: 2px solid var(--accent-cyan);
  outline-offset: 2px;
}

button:focus-visible,
a:focus-visible {
  outline: 2px solid var(--accent-cyan);
  outline-offset: 2px;
}

/* =============================================================================
   Reduced Motion Preferences
   ============================================================================= */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
  
  .effect-image,
  .effect-split-word .word,
  .effect-split-line .word,
  .effect-split-char .char span,
  .effect-fade-up,
  .effect-fade-down,
  .effect-fade-left,
  .effect-fade-right,
  .effect-blur-in,
  .effect-rotate-3d .word {
    transform: none !important;
    opacity: 1 !important;
    clip-path: none !important;
    filter: none !important;
  }
  
  .animate-marquee {
    animation: none !important;
  }
  
  html {
    scroll-behavior: auto !important;
  }
}

/* =============================================================================
   Print Styles
   ============================================================================= */

@media print {
  .no-print {
    display: none !important;
  }

  body {
    background: white;
    color: black;
  }

  a {
    text-decoration: underline;
  }

  .effect-image,
  .effect-split-word .word,
  .effect-split-line .word,
  .effect-split-char .char span {
    transform: none !important;
    opacity: 1 !important;
    clip-path: none !important;
  }
}

/* =============================================================================
   ADVANCED EFFECTS — Film Grain, Noise, Atmospheric Overlays
   ============================================================================= */

/* Film Grain Overlay — adds texture and cinematic depth */
.grain-overlay {
  position: fixed;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  pointer-events: none;
  z-index: 9998;
  opacity: 0.035;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
  animation: grain 0.5s steps(1) infinite;
}

@keyframes grain {
  0%, 100% { transform: translate(0, 0); }
  10% { transform: translate(-5%, -10%); }
  20% { transform: translate(-15%, 5%); }
  30% { transform: translate(7%, -25%); }
  40% { transform: translate(-5%, 25%); }
  50% { transform: translate(-15%, 10%); }
  60% { transform: translate(15%, 0%); }
  70% { transform: translate(0%, 15%); }
  80% { transform: translate(3%, 35%); }
  90% { transform: translate(-10%, 10%); }
}

/* Noise texture — subtle static background */
.noise-bg::before {
  content: '';
  position: absolute;
  inset: 0;
  opacity: 0.04;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 1;
}

/* =============================================================================
   Custom Cursor System
   ============================================================================= */

.cursor-grab-area {
  cursor: grab;
}

.cursor-grab-area:active {
  cursor: grabbing;
}

.cursor-pointer-area {
  cursor: pointer;
}

/* =============================================================================
   Advanced Clip-Path Reveals
   ============================================================================= */

/* Diagonal wipe — from bottom-left to top-right */
.effect-diagonal-reveal {
  clip-path: polygon(0 100%, 0 100%, 0 100%, 0 100%);
  transition: clip-path 1.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.effect-diagonal-reveal.is-active {
  clip-path: polygon(-10% 110%, 110% 110%, 110% -10%, -10% -10%);
}

/* Circle expand reveal */
.effect-circle-reveal {
  clip-path: circle(0% at 50% 50%);
  transition: clip-path 1.6s cubic-bezier(0.16, 1, 0.3, 1);
}

.effect-circle-reveal.is-active {
  clip-path: circle(75% at 50% 50%);
}

/* Horizontal curtain reveal — from center outward */
.effect-curtain-reveal {
  clip-path: inset(0 50%);
  transition: clip-path 1.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.effect-curtain-reveal.is-active {
  clip-path: inset(0 0%);
}

/* =============================================================================
   Editorial Grid Lines — visible structure like magazine layouts
   ============================================================================= */

.editorial-grid-lines {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

.editorial-grid-lines::before {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  left: 25%;
  width: 1px;
  background: rgba(0, 0, 0, 0.04);
}

.editorial-grid-lines::after {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  left: 75%;
  width: 1px;
  background: rgba(0, 0, 0, 0.04);
}

/* Dark variant */
.editorial-grid-lines-dark::before,
.editorial-grid-lines-dark::after {
  background: rgba(255, 255, 255, 0.04);
}

/* =============================================================================
   Text Mask / Gradient Text Effects
   ============================================================================= */

.text-gradient-carolina {
  background: linear-gradient(135deg, var(--carolina-blue), var(--carolina-blue-light));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.text-gradient-gold {
  background: linear-gradient(135deg, #C4A052, #E8D5A0);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* =============================================================================
   Staggered Grid Reveal — children animate in sequence
   ============================================================================= */

.stagger-grid > * {
  opacity: 0;
  transform: translateY(30px);
  transition: opacity 0.8s cubic-bezier(0.16, 1, 0.3, 1),
              transform 0.8s cubic-bezier(0.16, 1, 0.3, 1);
}

.stagger-grid.is-visible > *:nth-child(1) { transition-delay: 0ms; opacity: 1; transform: translateY(0); }
.stagger-grid.is-visible > *:nth-child(2) { transition-delay: 100ms; opacity: 1; transform: translateY(0); }
.stagger-grid.is-visible > *:nth-child(3) { transition-delay: 200ms; opacity: 1; transform: translateY(0); }
.stagger-grid.is-visible > *:nth-child(4) { transition-delay: 300ms; opacity: 1; transform: translateY(0); }
.stagger-grid.is-visible > *:nth-child(5) { transition-delay: 400ms; opacity: 1; transform: translateY(0); }
.stagger-grid.is-visible > *:nth-child(6) { transition-delay: 500ms; opacity: 1; transform: translateY(0); }

/* =============================================================================
   Magnetic Button Effect
   ============================================================================= */

.magnetic-btn {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transition: transform 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.magnetic-btn::before {
  content: '';
  position: absolute;
  inset: -20px;
  z-index: -1;
}

/* =============================================================================
   Section Divider — Editorial horizontal rule with label
   ============================================================================= */

.editorial-divider {
  display: flex;
  align-items: center;
  gap: 2rem;
  width: 100%;
}

.editorial-divider::before,
.editorial-divider::after {
  content: '';
  flex: 1;
  height: 1px;
  background: currentColor;
  opacity: 0.15;
}

/* =============================================================================
   Parallax Image Container — for consistent parallax images
   ============================================================================= */

.parallax-image-wrap {
  position: relative;
  overflow: hidden;
}

.parallax-image-wrap > img,
.parallax-image-wrap > div {
  position: absolute;
  inset: -15%;
  width: 130%;
  height: 130%;
}

/* =============================================================================
   Blend Mode Utilities
   ============================================================================= */

.blend-overlay { mix-blend-mode: overlay; }
.blend-multiply { mix-blend-mode: multiply; }
.blend-screen { mix-blend-mode: screen; }
.blend-difference { mix-blend-mode: difference; }

/* =============================================================================
   Glow Effects — subtle accent glows for dark sections
   ============================================================================= */

.glow-carolina {
  box-shadow: 0 0 60px rgba(75, 156, 211, 0.15),
              0 0 120px rgba(75, 156, 211, 0.08);
}

.text-glow-carolina {
  text-shadow: 0 0 40px rgba(75, 156, 211, 0.3),
               0 0 80px rgba(75, 156, 211, 0.15);
}

/* =============================================================================
   Horizontal Scroll — Custom cursor & snap improvements
   ============================================================================= */

.horizontal-scroll-container {
  cursor: grab;
  user-select: none;
  -webkit-user-select: none;
}

.horizontal-scroll-container:active {
  cursor: grabbing;
}

/* Scroll progress track */
.scroll-track {
  position: relative;
  height: 2px;
  background: rgba(0, 0, 0, 0.08);
  overflow: hidden;
}

.scroll-track-fill {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  background: var(--carolina-blue);
  transform-origin: left;
  transition: transform 0.15s linear;
}

/* =============================================================================
   Counter Animation — for animated stat numbers
   ============================================================================= */

@property --num {
  syntax: '<integer>';
  initial-value: 0;
  inherits: false;
}

.counter-animate {
  transition: --num 2s cubic-bezier(0.16, 1, 0.3, 1);
  counter-reset: num var(--num);
}

.counter-animate::after {
  content: counter(num);
}

/* =============================================================================
   Atmospheric Gradient Orbs — floating ambient color
   ============================================================================= */

.gradient-orb {
  position: absolute;
  border-radius: 50%;
  filter: blur(100px);
  pointer-events: none;
  opacity: 0.12;
}

.gradient-orb-carolina {
  background: radial-gradient(circle, var(--carolina-blue), transparent 70%);
}

.gradient-orb-navy {
  background: radial-gradient(circle, var(--navy), transparent 70%);
}

/* =============================================================================
   Image Hover Zoom — subtle scale on hover for editorial feel
   ============================================================================= */

.img-hover-zoom {
  overflow: hidden;
}

.img-hover-zoom img,
.img-hover-zoom > div {
  transition: transform 1.2s cubic-bezier(0.16, 1, 0.3, 1),
              filter 0.8s ease;
}

.img-hover-zoom:hover img,
.img-hover-zoom:hover > div {
  transform: scale(1.08);
}

/* =============================================================================
   Decorative Corner Brackets — editorial framing
   ============================================================================= */

.corner-brackets {
  position: relative;
}

.corner-brackets::before,
.corner-brackets::after {
  content: '';
  position: absolute;
  width: 24px;
  height: 24px;
  pointer-events: none;
}

.corner-brackets::before {
  top: -1px;
  left: -1px;
  border-top: 1px solid var(--carolina-blue);
  border-left: 1px solid var(--carolina-blue);
}

.corner-brackets::after {
  bottom: -1px;
  right: -1px;
  border-bottom: 1px solid var(--carolina-blue);
  border-right: 1px solid var(--carolina-blue);
}

/* =============================================================================
   Massive Display Type — for hero-level numbers and statements
   ============================================================================= */

.text-massive {
  font-size: clamp(5rem, 15vw, 14rem);
  line-height: 0.85;
  letter-spacing: -0.04em;
}

.text-ultra {
  font-size: clamp(8rem, 22vw, 22rem);
  line-height: 0.8;
  letter-spacing: -0.05em;
}

/* =============================================================================
   Reveal Line — animated horizontal line that draws in
   ============================================================================= */

.reveal-line {
  position: relative;
  overflow: hidden;
}

.reveal-line::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 1px;
  background: currentColor;
  transform: scaleX(0);
  transform-origin: left;
  transition: transform 1.2s cubic-bezier(0.16, 1, 0.3, 1);
}

.reveal-line.is-visible::after {
  transform: scaleX(1);
}

/* =============================================================================
   Atmospheric Section Backgrounds — premium section treatments
   ============================================================================= */

.section-dark-atmospheric {
  background: linear-gradient(180deg,
    var(--navy-dark) 0%,
    var(--navy) 40%,
    var(--navy-light) 100%
  );
  position: relative;
}

.section-dark-atmospheric::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse 80% 50% at 50% 0%,
    rgba(75, 156, 211, 0.08) 0%,
    transparent 70%
  );
  pointer-events: none;
}

/* =============================================================================
   Floating Label — editorial annotation style
   ============================================================================= */

.floating-label {
  position: absolute;
  font-family: var(--font-body);
  font-size: 10px;
  font-weight: 500;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--carolina-blue);
  writing-mode: vertical-lr;
  transform: rotate(180deg);
}

/* =============================================================================
   Smooth Progress Bar
   ============================================================================= */

.progress-bar-smooth {
  height: 1px;
  background: rgba(0, 0, 0, 0.08);
  position: relative;
  overflow: hidden;
}

.progress-bar-smooth .fill {
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  background: var(--carolina-blue);
  transition: width 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

/* =============================================================================
   Full-Bleed Image Divider — Magazine gatefold moments
   ============================================================================= */

.image-divider {
  position: relative;
  width: 100%;
  height: 60vh;
  min-height: 400px;
  overflow: hidden;
}

.image-divider img {
  object-fit: cover;
  width: 100%;
  height: 100%;
}

.image-divider-overlay {
  position: absolute;
  inset: 0;
  z-index: 2;
  display: flex;
  align-items: center;
  justify-content: center;
}

.image-divider-overlay::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    180deg,
    rgba(0, 0, 0, 0.35) 0%,
    rgba(0, 0, 0, 0.15) 40%,
    rgba(0, 0, 0, 0.35) 100%
  );
}

.image-divider-carolina::after {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--carolina-blue);
  mix-blend-mode: multiply;
  opacity: 0.25;
}

/* =============================================================================
   Drop Cap — Magazine editorial first-letter
   ============================================================================= */

.drop-cap::first-letter {
  font-family: var(--font-serif);
  font-size: 4.5em;
  float: left;
  line-height: 0.75;
  margin-right: 0.12em;
  margin-top: 0.08em;
  color: var(--carolina-blue);
  font-weight: 600;
}

/* =============================================================================
   Pull Quote — Full-width editorial statement
   ============================================================================= */

.pull-quote {
  position: relative;
  font-family: var(--font-serif);
  font-size: clamp(2rem, 5vw, 4.5rem);
  line-height: 1.1;
  font-style: italic;
  letter-spacing: -0.02em;
  color: var(--unc-black);
}

.pull-quote-mark {
  font-size: 3em;
  line-height: 0;
  position: absolute;
  top: -0.1em;
  left: -0.15em;
  color: var(--carolina-blue);
  opacity: 0.15;
  font-style: normal;
}

/* =============================================================================
   Scroll-Driven CSS Animations (Progressive Enhancement)
   ============================================================================= */

@supports (animation-timeline: view()) {
  .scroll-fade-in {
    animation: scrollFadeIn linear both;
    animation-timeline: view();
    animation-range: entry 10% entry 80%;
  }

  @keyframes scrollFadeIn {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .scroll-scale-in {
    animation: scrollScaleIn linear both;
    animation-timeline: view();
    animation-range: entry 0% entry 70%;
  }

  @keyframes scrollScaleIn {
    from {
      opacity: 0;
      transform: scale(0.92);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .scroll-slide-left {
    animation: scrollSlideLeft linear both;
    animation-timeline: view();
    animation-range: entry 10% entry 80%;
  }

  @keyframes scrollSlideLeft {
    from {
      opacity: 0;
      transform: translateX(60px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  .scroll-slide-right {
    animation: scrollSlideRight linear both;
    animation-timeline: view();
    animation-range: entry 10% entry 80%;
  }

  @keyframes scrollSlideRight {
    from {
      opacity: 0;
      transform: translateX(-60px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }
}

/* =============================================================================
   Global Scroll Progress Bar
   ============================================================================= */

.scroll-progress-bar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 2px;
  z-index: 10000;
  pointer-events: none;
  background: transparent;
}

.scroll-progress-fill {
  height: 100%;
  background: var(--carolina-blue);
  transform-origin: left;
  transition: transform 0.1s linear;
}

/* =============================================================================
   Image Blend Mode Treatments — Editorial compositing
   ============================================================================= */

.img-blend-carolina {
  position: relative;
}

.img-blend-carolina::after {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--carolina-blue);
  mix-blend-mode: multiply;
  opacity: 0.2;
  pointer-events: none;
  transition: opacity 0.6s ease;
}

.img-blend-carolina:hover::after {
  opacity: 0;
}

.img-blend-navy {
  position: relative;
}

.img-blend-navy::after {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--navy);
  mix-blend-mode: multiply;
  opacity: 0.3;
  pointer-events: none;
  transition: opacity 0.6s ease;
}

.img-duotone {
  position: relative;
}

.img-duotone::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--carolina-blue);
  mix-blend-mode: color;
  opacity: 0.5;
  pointer-events: none;
  z-index: 1;
  transition: opacity 0.8s ease;
}

.img-duotone:hover::before {
  opacity: 0;
}

/* =============================================================================
   Testimonial / Quote Marquee
   ============================================================================= */

.marquee-quote {
  display: flex;
  white-space: nowrap;
  animation: marqueeQuote 45s linear infinite;
}

@keyframes marqueeQuote {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

.marquee-quote:hover {
  animation-play-state: paused;
}

/* =============================================================================
   Geometric Clip Paths — for editorial image crops
   ============================================================================= */

.clip-diagonal-left {
  clip-path: polygon(0 0, 100% 5%, 100% 100%, 0 95%);
}

.clip-diagonal-right {
  clip-path: polygon(0 5%, 100% 0, 100% 95%, 0 100%);
}

.clip-angled-top {
  clip-path: polygon(0 8%, 100% 0, 100% 100%, 0 100%);
}

.clip-angled-bottom {
  clip-path: polygon(0 0, 100% 0, 100% 92%, 0 100%);
}

/* =============================================================================
   Image Grayscale — with smooth transition to color
   ============================================================================= */

.img-grayscale {
  filter: grayscale(100%) contrast(1.1);
  transition: filter 1s cubic-bezier(0.16, 1, 0.3, 1);
}

.img-grayscale.is-color,
.group:hover .img-grayscale {
  filter: grayscale(0) contrast(1);
}

/* =============================================================================
   Section Transition Gradients — smooth color shifts between sections
   ============================================================================= */

.section-fade-to-cream::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 200px;
  background: linear-gradient(to bottom, transparent, var(--cream));
  pointer-events: none;
  z-index: 2;
}

.section-fade-from-cream::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 200px;
  background: linear-gradient(to top, transparent, var(--cream));
  pointer-events: none;
  z-index: 2;
}

.section-fade-to-black::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 200px;
  background: linear-gradient(to bottom, transparent, black);
  pointer-events: none;
  z-index: 2;
}
